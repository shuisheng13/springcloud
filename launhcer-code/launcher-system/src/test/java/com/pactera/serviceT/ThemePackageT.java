package com.pactera.serviceT;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import org.junit.Test;
import org.springframework.beans.factory.annotation.Autowired;

import com.pactera.base.Tester;
import com.pactera.business.dao.LaunWidgetManagerMapper;
import com.pactera.business.dao.LaunWidgetMinPropertyMapper;
import com.pactera.business.dao.LaunWidgetPropertyMapper;
import com.pactera.business.service.LaunThemeConfigService;
import com.pactera.business.service.LaunThemeService;
import com.pactera.domain.LaunThemeConfig;
import com.pactera.util.ThemeWidgetDetail;
import com.pactera.utlis.JsonUtils;

/**
 * 测试widget信息转为前端可用json
 * 
 * @author lzp
 *
 */
@SuppressWarnings("all")
public class ThemePackageT extends Tester {

	@Autowired
	private LaunWidgetMinPropertyMapper launWidgetMinPropertyMapper;

	@Autowired
	private LaunWidgetManagerMapper launWidgetManagerMapper;

	@Autowired
	private LaunWidgetPropertyMapper launWidgetPropertyMapper;

	@Autowired
	private LaunThemeConfigService configService;

	@Autowired
	private LaunThemeService launThemeService;

	public void test1() {
		String themeJson = "{\"longResolution\":1080,\"longResolution2323\":1080,\"wideResolution\":560,\"longPalace\":\"30\",\"widePalace\":\"30\",\"creator\":\"180520855918839\",\"phoneAppImgUrl\":\"group1/M00/00/1D/wKgJElsL6xKAXyonAAAiB_pGhMQ634.jpg\",\"weatherAppImgUrl\":\"group1/M00/00/1D/wKgJElsL6xOAf99lAABjW8Dr6hU217.jpg\",\"musicAppImgUrl\":\"group1/M00/00/1D/wKgJElsL6xWAZtPJAABhR_XD5nY868.jpg\",\"fmAppImgUrl\":\"group1/M00/00/1D/wKgJElsL6xeAUx9XAACUmpeesIQ739.jpg\",\"level\":\"1\",\"version\":2,\"typeId\":7,\"title\":\"new22222222\",\"sTime\":1525622400000,\"eTime\":1525622400000,\"id\":\"\",\"filesJson\":{\"1527507658674.9.jpg\":\"group1/M00/00/1C/wKgJElsL6wqALlIuAABWRlwlaig839.jpg\",\"1527507660067ig.jpg\":\"group1/M00/00/1C/wKgJElsL6wyAckJUAABTP1sQ0go010.jpg\",\"1527507661732ig.jpg\":\"group1/M00/00/1C/wKgJElsL6w2AXCiXAAAjUBPuMQ0062.jpg\",\"1527507663265ig.jpg\":\"group1/M00/00/1C/wKgJElsL6w-APJBdAAAohUSRpCY503.jpg\"}}";
		String baseJson = "{\"background\":\"#400080\",\"width\":580,\"height\":300.7407407407407,\"row\":\"30\",\"col\":\"30\",\"isnine\":false,\"file\":{\"1527507735193ig.jpg\":\"group1/M00/00/1D/wKgJElsL61eAbh-AAAAjUBPuMQ0440.jpg\"},\"backGrounditem\":{\"color\":\"#ffffff\",\"image\":\"1527507735193ig.jpg\",\"scaleType\":\"01\",\"alignType\":\"LT\"}}";
		String widgetJson = "[{\"Uid\":\"1527507723325\",\"x\":9,\"y\":3,\"width\":\"4\",\"height\":\"2\",\"name\":\"微拍堂\",\"isScroll\":0,\"setting\":{\"id\":180526152571031,\"createDate\":null,\"updateDate\":null,\"applicationId\":null,\"width\":4,\"height\":2,\"posterPath\":\"group1/M00/00/1A/wKgJElsLun2AKk-wAAA4ACJTgPM639.png\",\"type\":null,\"orders\":null,\"startTime\":null,\"endTime\":null,\"packageName\":\"com.weipaitang.wpt\",\"name\":\"微拍堂\",\"x\":0,\"y\":0,\"appId\":\"com.weipaitang.wpt\",\"isScroll\":0,\"isPoster\":1,\"backgroud\":\"group1/M00/00/1A/wKgJElsLun2AKk-wAAA4ACJTgPM639.png\",\"category\":\"微拍堂\"},\"backgroud\":\"group1/M00/00/1A/wKgJElsLun2AKk-wAAA4ACJTgPM639.png\",\"category\":\"微拍堂\",\"file\":{\"group1/M00/00/1A/wKgJElsLun2AKk-wAAA4ACJTgPM639.png\":\"group1/M00/00/1A/wKgJElsLun2AKk-wAAA4ACJTgPM639.png\"},\"codeId\":\"PosterView\",\"appId\":\"com.weipaitang.wpt\",\"id\":180526152571031,\"isPoster\":1,\"type\":0},{\"Uid\":\"1527507719725\",\"x\":12,\"y\":5,\"width\":\"4\",\"height\":\"2\",\"name\":\"北京交警\",\"isScroll\":0,\"setting\":{\"id\":180526039435676,\"createDate\":null,\"updateDate\":null,\"applicationId\":null,\"width\":4,\"height\":2,\"posterPath\":\"group1/M00/00/1A/wKgJElsLuK2AeCzUAAGKgt5r4PI712.jpg\",\"type\":null,\"orders\":null,\"startTime\":null,\"endTime\":null,\"packageName\":\"com.zcbl.bjjj_driving\",\"name\":\"北京交警\",\"x\":0,\"y\":0,\"appId\":\"com.zcbl.bjjj_driving\",\"isScroll\":0,\"isPoster\":1,\"backgroud\":\"group1/M00/00/1A/wKgJElsLuK2AeCzUAAGKgt5r4PI712.jpg\",\"category\":\"北京交警\"},\"backgroud\":\"group1/M00/00/1A/wKgJElsLuK2AeCzUAAGKgt5r4PI712.jpg\",\"category\":\"北京交警\",\"file\":{\"group1/M00/00/1A/wKgJElsLuK2AeCzUAAGKgt5r4PI712.jpg\":\"group1/M00/00/1A/wKgJElsLuK2AeCzUAAGKgt5r4PI712.jpg\"},\"codeId\":\"PosterView\",\"appId\":\"com.zcbl.bjjj_driving\",\"id\":180526039435676,\"isPoster\":1,\"type\":0},{\"Uid\":\"1527507673373\",\"x\":1,\"y\":9,\"width\":\"29\",\"height\":\"19\",\"isScroll\":1,\"setting\":{\"col\":10,\"row\":30,\"direct\":0},\"backgroud\":\"2a26f1e625d801d5.png\",\"file\":{\"2a26f1e625d801d5.png\":\"group1/M00/00/0F/wKgJElr-o-2AAx4DAADfqQeCRbo391.png\"},\"appId\":\"\",\"isPoster\":0,\"type\":null,\"widgets\":[{\"data\":[{\"Uid\":\"1527507692917\",\"x\":5,\"y\":5,\"width\":\"3\",\"height\":\"5\",\"name\":\"music1\",\"setting\":[{\"default\":{\"nine-path\":\"c3e07ca596c88992.9.png\"},\"description\":\"用来设置音乐播放控件背景\",\"key\":\"background\",\"label\":\"背景\",\"type\":\"ImageSet\"},{\"default\":\"rotate\",\"description\":\"用来表示翻页的动画\",\"key\":\"pageAnim\",\"label\":\"翻页动画\",\"type\":\"singleSelect\",\"values\":[{\"lable\":\"旋转\",\"value\":\"rotate\"},{\"lable\":\"放大\",\"value\":\"enlarge\"}]},{\"default\":[\"name\",\"src\"],\"description\":\"选择要显示的功能项（多选）\",\"key\":\"contentSettings\",\"label\":\"功能显示\",\"type\":\"multiSelect\",\"values\":[{\"label\":\"歌曲名称\",\"value\":\"name\"},{\"label\":\"歌词\",\"value\":\"lyric\"},{\"label\":\"专辑名\",\"value\":\"album\"}]},{\"default\":{\"background\":{\"alignType\":\"LT\",\"color\":\"#00000000\",\"image\":\"90f931027e95c8b6.png\",\"scaleType\":\"01\"},\"color\":\"#FFFFFF\",\"def_text\":\"\",\"font_style\":[\"italic\",\"bold\",\"underline\",\"deleteline\"],\"line_spacing\":\"12\",\"size\":\"23\"},\"description\":\"设置歌曲名文本显示属性\",\"key\":\"musicName\",\"label\":\"歌曲名\",\"type\":\"TextSet\"},{\"default\":{\"background\":{\"color\":\"#00000000\"},\"color\":\"#FFFFFF\",\"def_text\":\"\",\"font_style\":[\"italic\",\"bold\",\"underline\",\"deleteline\"],\"line_spacing\":\"12\",\"size\":\"23\"},\"description\":\"设置专辑名文本显示属性\",\"key\":\"albumName\",\"label\":\"专辑名\",\"type\":\"TextSet\"},{\"default\":{\"alignType\":\"LT\",\"image\":\"90f931027e95c8b6.png\",\"scaleType\":\"01\"},\"description\":\"设置默认的专辑图片\",\"key\":\"albumPic\",\"label\":\"专辑图片\",\"type\":\"ImageSet\"},{\"default\":{\"image\":\"bff0688b3f9433d9.png\"},\"description\":\"播放按钮图标\",\"key\":\"playBtn\",\"label\":\"播放按钮\",\"type\":\"ImageSet\"},{\"default\":{\"image\":\"1511b4f6020ec61d.png\"},\"description\":\"暂停按钮图标\",\"key\":\"playBtn\",\"label\":\"暂停按钮\",\"type\":\"ImageSet\"}],\"backgroud\":\"2a26f1e625d801d5.png\",\"category\":\"历史\",\"description\":\"这是一个音乐播放器控件\",\"file\":{\"1511b4f6020ec61d.png\":\"group1/M00/00/1C/wKgJElsL5keAJAczAAANNeuqITA113.png\",\"2a26f1e625d801d5.png\":\"group1/M00/00/1C/wKgJElsL5keABTi8AADfqQeCRbo277.png\",\"90f931027e95c8b6.png\":\"group1/M00/00/1C/wKgJElsL5keADTVVAABBClSxebU460.png\",\"bff0688b3f9433d9.png\":\"group1/M00/00/1C/wKgJElsL5keATbGtAAAOeXnCqNc712.png\",\"c3e07ca596c88992.9.png\":\"group1/M00/00/1C/wKgJElsL5keAR75wAACqhSEFv84907.png\"},\"codeId\":null,\"appId\":\"\",\"id\":180529829687488,\"isPoster\":0,\"type\":0},{\"Uid\":\"1527507689243\",\"x\":9,\"y\":4,\"width\":\"3\",\"height\":\"5\",\"name\":\"music1\",\"setting\":[{\"default\":{\"nine-path\":\"c3e07ca596c88992.9.png\"},\"description\":\"用来设置音乐播放控件背景\",\"key\":\"background\",\"label\":\"背景\",\"type\":\"ImageSet\"},{\"default\":\"rotate\",\"description\":\"用来表示翻页的动画\",\"key\":\"pageAnim\",\"label\":\"翻页动画\",\"type\":\"singleSelect\",\"values\":[{\"lable\":\"旋转\",\"value\":\"rotate\"},{\"lable\":\"放大\",\"value\":\"enlarge\"}]},{\"default\":[\"name\",\"src\"],\"description\":\"选择要显示的功能项（多选）\",\"key\":\"contentSettings\",\"label\":\"功能显示\",\"type\":\"multiSelect\",\"values\":[{\"label\":\"歌曲名称\",\"value\":\"name\"},{\"label\":\"歌词\",\"value\":\"lyric\"},{\"label\":\"专辑名\",\"value\":\"album\"}]},{\"default\":{\"background\":{\"alignType\":\"LT\",\"color\":\"#00000000\",\"image\":\"90f931027e95c8b6.png\",\"scaleType\":\"01\"},\"color\":\"#FFFFFF\",\"def_text\":\"\",\"font_style\":[\"italic\",\"bold\",\"underline\",\"deleteline\"],\"line_spacing\":\"12\",\"size\":\"23\"},\"description\":\"设置歌曲名文本显示属性\",\"key\":\"musicName\",\"label\":\"歌曲名\",\"type\":\"TextSet\"},{\"default\":{\"background\":{\"color\":\"#00000000\"},\"color\":\"#FFFFFF\",\"def_text\":\"\",\"font_style\":[\"italic\",\"bold\",\"underline\",\"deleteline\"],\"line_spacing\":\"12\",\"size\":\"23\"},\"description\":\"设置专辑名文本显示属性\",\"key\":\"albumName\",\"label\":\"专辑名\",\"type\":\"TextSet\"},{\"default\":{\"alignType\":\"LT\",\"image\":\"90f931027e95c8b6.png\",\"scaleType\":\"01\"},\"description\":\"设置默认的专辑图片\",\"key\":\"albumPic\",\"label\":\"专辑图片\",\"type\":\"ImageSet\"},{\"default\":{\"image\":\"bff0688b3f9433d9.png\"},\"description\":\"播放按钮图标\",\"key\":\"playBtn\",\"label\":\"播放按钮\",\"type\":\"ImageSet\"},{\"default\":{\"image\":\"1511b4f6020ec61d.png\"},\"description\":\"暂停按钮图标\",\"key\":\"playBtn\",\"label\":\"暂停按钮\",\"type\":\"ImageSet\"}],\"backgroud\":\"2a26f1e625d801d5.png\",\"category\":\"历史\",\"description\":\"这是一个音乐播放器控件\",\"file\":{\"1511b4f6020ec61d.png\":\"group1/M00/00/1C/wKgJElsL5keAJAczAAANNeuqITA113.png\",\"2a26f1e625d801d5.png\":\"group1/M00/00/1C/wKgJElsL5keABTi8AADfqQeCRbo277.png\",\"90f931027e95c8b6.png\":\"group1/M00/00/1C/wKgJElsL5keADTVVAABBClSxebU460.png\",\"bff0688b3f9433d9.png\":\"group1/M00/00/1C/wKgJElsL5keATbGtAAAOeXnCqNc712.png\",\"c3e07ca596c88992.9.png\":\"group1/M00/00/1C/wKgJElsL5keAR75wAACqhSEFv84907.png\"},\"codeId\":null,\"appId\":\"\",\"id\":180529829687488,\"isPoster\":0,\"type\":0},{\"Uid\":\"1527507690783\",\"x\":11,\"y\":10,\"width\":\"3\",\"height\":\"5\",\"name\":\"music1\",\"setting\":[{\"default\":{\"nine-path\":\"c3e07ca596c88992.9.png\"},\"description\":\"用来设置音乐播放控件背景\",\"key\":\"background\",\"label\":\"背景\",\"type\":\"ImageSet\"},{\"default\":\"rotate\",\"description\":\"用来表示翻页的动画\",\"key\":\"pageAnim\",\"label\":\"翻页动画\",\"type\":\"singleSelect\",\"values\":[{\"lable\":\"旋转\",\"value\":\"rotate\"},{\"lable\":\"放大\",\"value\":\"enlarge\"}]},{\"default\":[\"name\",\"src\"],\"description\":\"选择要显示的功能项（多选）\",\"key\":\"contentSettings\",\"label\":\"功能显示\",\"type\":\"multiSelect\",\"values\":[{\"label\":\"歌曲名称\",\"value\":\"name\"},{\"label\":\"歌词\",\"value\":\"lyric\"},{\"label\":\"专辑名\",\"value\":\"album\"}]},{\"default\":{\"background\":{\"alignType\":\"LT\",\"color\":\"#00000000\",\"image\":\"90f931027e95c8b6.png\",\"scaleType\":\"01\"},\"color\":\"#FFFFFF\",\"def_text\":\"\",\"font_style\":[\"italic\",\"bold\",\"underline\",\"deleteline\"],\"line_spacing\":\"12\",\"size\":\"23\"},\"description\":\"设置歌曲名文本显示属性\",\"key\":\"musicName\",\"label\":\"歌曲名\",\"type\":\"TextSet\"},{\"default\":{\"background\":{\"color\":\"#00000000\"},\"color\":\"#FFFFFF\",\"def_text\":\"\",\"font_style\":[\"italic\",\"bold\",\"underline\",\"deleteline\"],\"line_spacing\":\"12\",\"size\":\"23\"},\"description\":\"设置专辑名文本显示属性\",\"key\":\"albumName\",\"label\":\"专辑名\",\"type\":\"TextSet\"},{\"default\":{\"alignType\":\"LT\",\"image\":\"90f931027e95c8b6.png\",\"scaleType\":\"01\"},\"description\":\"设置默认的专辑图片\",\"key\":\"albumPic\",\"label\":\"专辑图片\",\"type\":\"ImageSet\"},{\"default\":{\"image\":\"bff0688b3f9433d9.png\"},\"description\":\"播放按钮图标\",\"key\":\"playBtn\",\"label\":\"播放按钮\",\"type\":\"ImageSet\"},{\"default\":{\"image\":\"1511b4f6020ec61d.png\"},\"description\":\"暂停按钮图标\",\"key\":\"playBtn\",\"label\":\"暂停按钮\",\"type\":\"ImageSet\"}],\"backgroud\":\"2a26f1e625d801d5.png\",\"category\":\"历史\",\"description\":\"这是一个音乐播放器控件\",\"file\":{\"1511b4f6020ec61d.png\":\"group1/M00/00/1C/wKgJElsL5keAJAczAAANNeuqITA113.png\",\"2a26f1e625d801d5.png\":\"group1/M00/00/1C/wKgJElsL5keABTi8AADfqQeCRbo277.png\",\"90f931027e95c8b6.png\":\"group1/M00/00/1C/wKgJElsL5keADTVVAABBClSxebU460.png\",\"bff0688b3f9433d9.png\":\"group1/M00/00/1C/wKgJElsL5keATbGtAAAOeXnCqNc712.png\",\"c3e07ca596c88992.9.png\":\"group1/M00/00/1C/wKgJElsL5keAR75wAACqhSEFv84907.png\"},\"codeId\":null,\"appId\":\"\",\"id\":180529829687488,\"isPoster\":0,\"type\":0},{\"backgroud\":\"2a26f1e625d801d5.png\",\"category\":\"历史\",\"codeId\":null,\"description\":\"这是一个音乐播放器控件\",\"file\":{\"1511b4f6020ec61d.png\":\"group1/M00/00/1C/wKgJElsL5keAJAczAAANNeuqITA113.png\",\"2a26f1e625d801d5.png\":\"group1/M00/00/1C/wKgJElsL5keABTi8AADfqQeCRbo277.png\",\"90f931027e95c8b6.png\":\"group1/M00/00/1C/wKgJElsL5keADTVVAABBClSxebU460.png\",\"bff0688b3f9433d9.png\":\"group1/M00/00/1C/wKgJElsL5keATbGtAAAOeXnCqNc712.png\",\"c3e07ca596c88992.9.png\":\"group1/M00/00/1C/wKgJElsL5keAR75wAACqhSEFv84907.png\"},\"height\":\"15\",\"id\":180529829687488,\"name\":\"music1\",\"setting\":[{\"default\":{\"nine-path\":\"c3e07ca596c88992.9.png\"},\"description\":\"用来设置音乐播放控件背景\",\"key\":\"background\",\"label\":\"背景\",\"type\":\"ImageSet\"},{\"default\":\"rotate\",\"description\":\"用来表示翻页的动画\",\"key\":\"pageAnim\",\"label\":\"翻页动画\",\"type\":\"singleSelect\",\"values\":[{\"lable\":\"旋转\",\"value\":\"rotate\"},{\"lable\":\"放大\",\"value\":\"enlarge\"}]},{\"default\":[\"name\",\"src\"],\"description\":\"选择要显示的功能项（多选）\",\"key\":\"contentSettings\",\"label\":\"功能显示\",\"type\":\"multiSelect\",\"values\":[{\"label\":\"歌曲名称\",\"value\":\"name\"},{\"label\":\"歌词\",\"value\":\"lyric\"},{\"label\":\"专辑名\",\"value\":\"album\"}]},{\"default\":{\"background\":{\"alignType\":\"LT\",\"color\":\"#00000000\",\"image\":\"90f931027e95c8b6.png\",\"scaleType\":\"01\"},\"color\":\"#FFFFFF\",\"def_text\":\"\",\"font_style\":[\"italic\",\"bold\",\"underline\",\"deleteline\"],\"line_spacing\":\"12\",\"size\":\"23\"},\"description\":\"设置歌曲名文本显示属性\",\"key\":\"musicName\",\"label\":\"歌曲名\",\"type\":\"TextSet\"},{\"default\":{\"background\":{\"color\":\"#00000000\"},\"color\":\"#FFFFFF\",\"def_text\":\"\",\"font_style\":[\"italic\",\"bold\",\"underline\",\"deleteline\"],\"line_spacing\":\"12\",\"size\":\"23\"},\"description\":\"设置专辑名文本显示属性\",\"key\":\"albumName\",\"label\":\"专辑名\",\"type\":\"TextSet\"},{\"default\":{\"alignType\":\"LT\",\"image\":\"90f931027e95c8b6.png\",\"scaleType\":\"01\"},\"description\":\"设置默认的专辑图片\",\"key\":\"albumPic\",\"label\":\"专辑图片\",\"type\":\"ImageSet\"},{\"default\":{\"image\":\"bff0688b3f9433d9.png\"},\"description\":\"播放按钮图标\",\"key\":\"playBtn\",\"label\":\"播放按钮\",\"type\":\"ImageSet\"},{\"default\":{\"image\":\"1511b4f6020ec61d.png\"},\"description\":\"暂停按钮图标\",\"key\":\"playBtn\",\"label\":\"暂停按钮\",\"type\":\"ImageSet\"}],\"version\":\"v2.0\",\"width\":\"5\",\"x\":15,\"y\":2,\"appId\":\"\",\"isPoster\":0,\"isScroll\":0,\"Uid\":\"1527507694568\",\"type\":0}]},{\"data\":[{\"id\":180526039435676,\"createDate\":null,\"updateDate\":null,\"applicationId\":null,\"width\":\"20\",\"height\":\"20\",\"posterPath\":\"group1/M00/00/1A/wKgJElsLuK2AeCzUAAGKgt5r4PI712.jpg\",\"type\":0,\"orders\":null,\"startTime\":null,\"endTime\":null,\"packageName\":\"com.zcbl.bjjj_driving\",\"name\":\"北京交警\",\"x\":0,\"y\":0,\"appId\":\"com.zcbl.bjjj_driving\",\"isScroll\":0,\"isPoster\":1,\"backgroud\":\"group1/M00/00/1A/wKgJElsLuK2AeCzUAAGKgt5r4PI712.jpg\",\"Uid\":\"1527507701598\",\"codeId\":\"PosterView\",\"setting\":{\"id\":180526039435676,\"createDate\":null,\"updateDate\":null,\"applicationId\":null,\"width\":4,\"height\":2,\"posterPath\":\"group1/M00/00/1A/wKgJElsLuK2AeCzUAAGKgt5r4PI712.jpg\",\"type\":null,\"orders\":null,\"startTime\":null,\"endTime\":null,\"packageName\":\"com.zcbl.bjjj_driving\",\"name\":\"北京交警\",\"x\":0,\"y\":0,\"appId\":\"com.zcbl.bjjj_driving\",\"isScroll\":0,\"isPoster\":1,\"backgroud\":\"group1/M00/00/1A/wKgJElsLuK2AeCzUAAGKgt5r4PI712.jpg\",\"category\":\"北京交警\"},\"file\":{\"group1/M00/00/1A/wKgJElsLuK2AeCzUAAGKgt5r4PI712.jpg\":\"group1/M00/00/1A/wKgJElsLuK2AeCzUAAGKgt5r4PI712.jpg\"}}]},{\"data\":[{\"id\":180526152571031,\"createDate\":null,\"updateDate\":null,\"applicationId\":null,\"width\":\"19\",\"height\":\"18\",\"posterPath\":\"group1/M00/00/1A/wKgJElsLun2AKk-wAAA4ACJTgPM639.png\",\"type\":0,\"orders\":null,\"startTime\":null,\"endTime\":null,\"packageName\":\"com.weipaitang.wpt\",\"name\":\"微拍堂\",\"x\":0,\"y\":0,\"appId\":\"com.weipaitang.wpt\",\"isScroll\":0,\"isPoster\":1,\"backgroud\":\"group1/M00/00/1A/wKgJElsLun2AKk-wAAA4ACJTgPM639.png\",\"Uid\":\"1527507705532\",\"codeId\":\"PosterView\",\"setting\":{\"id\":180526152571031,\"createDate\":null,\"updateDate\":null,\"applicationId\":null,\"width\":4,\"height\":2,\"posterPath\":\"group1/M00/00/1A/wKgJElsLun2AKk-wAAA4ACJTgPM639.png\",\"type\":null,\"orders\":null,\"startTime\":null,\"endTime\":null,\"packageName\":\"com.weipaitang.wpt\",\"name\":\"微拍堂\",\"x\":0,\"y\":0,\"appId\":\"com.weipaitang.wpt\",\"isScroll\":0,\"isPoster\":1,\"backgroud\":\"group1/M00/00/1A/wKgJElsLun2AKk-wAAA4ACJTgPM639.png\",\"category\":\"微拍堂\"},\"file\":{\"group1/M00/00/1A/wKgJElsLun2AKk-wAAA4ACJTgPM639.png\":\"group1/M00/00/1A/wKgJElsLun2AKk-wAAA4ACJTgPM639.png\"}}]}]},{\"backgroud\":\"2a26f1e625d801d5.png\",\"category\":\"历史\",\"codeId\":null,\"description\":\"这是一个音乐播放器控件\",\"file\":{\"1511b4f6020ec61d.png\":\"group1/M00/00/1C/wKgJElsL5keAJAczAAANNeuqITA113.png\",\"2a26f1e625d801d5.png\":\"group1/M00/00/1C/wKgJElsL5keABTi8AADfqQeCRbo277.png\",\"90f931027e95c8b6.png\":\"group1/M00/00/1C/wKgJElsL5keADTVVAABBClSxebU460.png\",\"bff0688b3f9433d9.png\":\"group1/M00/00/1C/wKgJElsL5keATbGtAAAOeXnCqNc712.png\",\"c3e07ca596c88992.9.png\":\"group1/M00/00/1C/wKgJElsL5keAR75wAACqhSEFv84907.png\"},\"height\":\"5\",\"id\":180529829687488,\"name\":\"music1\",\"setting\":[{\"default\":{\"nine-path\":\"c3e07ca596c88992.9.png\"},\"description\":\"用来设置音乐播放控件背景\",\"key\":\"background\",\"label\":\"背景\",\"type\":\"ImageSet\"},{\"default\":\"rotate\",\"description\":\"用来表示翻页的动画\",\"key\":\"pageAnim\",\"label\":\"翻页动画\",\"type\":\"singleSelect\",\"values\":[{\"lable\":\"旋转\",\"value\":\"rotate\"},{\"lable\":\"放大\",\"value\":\"enlarge\"}]},{\"default\":[\"name\",\"src\"],\"description\":\"选择要显示的功能项（多选）\",\"key\":\"contentSettings\",\"label\":\"功能显示\",\"type\":\"multiSelect\",\"values\":[{\"label\":\"歌曲名称\",\"value\":\"name\"},{\"label\":\"歌词\",\"value\":\"lyric\"},{\"label\":\"专辑名\",\"value\":\"album\"}]},{\"default\":{\"background\":{\"alignType\":\"LT\",\"color\":\"#00000000\",\"image\":\"90f931027e95c8b6.png\",\"scaleType\":\"01\"},\"color\":\"#FFFFFF\",\"def_text\":\"\",\"font_style\":[\"italic\",\"bold\",\"underline\",\"deleteline\"],\"line_spacing\":\"12\",\"size\":\"23\"},\"description\":\"设置歌曲名文本显示属性\",\"key\":\"musicName\",\"label\":\"歌曲名\",\"type\":\"TextSet\"},{\"default\":{\"background\":{\"color\":\"#00000000\"},\"color\":\"#FFFFFF\",\"def_text\":\"\",\"font_style\":[\"italic\",\"bold\",\"underline\",\"deleteline\"],\"line_spacing\":\"12\",\"size\":\"23\"},\"description\":\"设置专辑名文本显示属性\",\"key\":\"albumName\",\"label\":\"专辑名\",\"type\":\"TextSet\"},{\"default\":{\"alignType\":\"LT\",\"image\":\"90f931027e95c8b6.png\",\"scaleType\":\"01\"},\"description\":\"设置默认的专辑图片\",\"key\":\"albumPic\",\"label\":\"专辑图片\",\"type\":\"ImageSet\"},{\"default\":{\"image\":\"bff0688b3f9433d9.png\"},\"description\":\"播放按钮图标\",\"key\":\"playBtn\",\"label\":\"播放按钮\",\"type\":\"ImageSet\"},{\"default\":{\"image\":\"1511b4f6020ec61d.png\"},\"description\":\"暂停按钮图标\",\"key\":\"playBtn\",\"label\":\"暂停按钮\",\"type\":\"ImageSet\"}],\"version\":\"v2.0\",\"width\":\"3\",\"x\":0,\"y\":0,\"appId\":\"\",\"isPoster\":0,\"isScroll\":0,\"Uid\":\"1527507729472\",\"type\":0}]";
		// LaunThemeAdministration administration =
		// JsonUtils.jsonToClass(themeJson, LaunThemeAdministration.class);

		launThemeService.saveTheme(baseJson, widgetJson, themeJson, 0);
	}

	public void test2() {
		Map<String, String> map = new HashMap<String, String>();
		map.put("wKgJElsH20OACU_pAAAiB_pGhMQ389.jpg", "/group1/M00/00/14/wKgJElsH20OACU_pAAAiB_pGhMQ389.jpg");
		Long themeId = 180526635159592L;
		launThemeService.saveAssembleConfigJson(themeId, map);
	}

	@Test
	public void saveThemeConfig() {

		Long themeId = 1L;
		String baseJson = "{\"background\":\"#400000\",\"width\":765,\"height\":510,\"row\":\"51\",\"col\":\"30\",\"selscaleType\":\"1\",\"alignType\":\"LT\",\"backGrounditem\":{\"color\":\"#400000\",\"image\":\"1530090576636背景.png\",\"scaleType\":\"1\",\"alignType\":\"LT\"},\"isnine\":false,\"file\":{\"1530090576636背景.png\":\"group1/M00/00/4C/wKgJGVszVFyAaY6rAAAkd1JnXUc110.png\"}}";
		String widgetJson = "[{\"Uid\":\"1530089980333\",\"x\":1,\"y\":1,\"width\":\"7\",\"height\":\"4\",\"name\":\"time\",\"isScroll\":0,\"setting\":[{\"description\":\"设置时间的显示样式\",\"default\":{\"text\":\"19:22\",\"size\":\"60\",\"color\":\"#FFFFFF\",\"background\":{\"color\":\"#00000000\"}},\"label\":\"时间显示：\",\"type\":\"TextSet\",\"key\":\"style\"},{\"description\":\"设置时间显示的格式 ...\",\"default\":\"HH:mm\",\"label\":\"时间格式：\",\"type\":\"text\",\"key\":\"format\"}],\"backgroud\":\"20180607155338.png\",\"category\":\"时间\",\"description\":\"这是一个时间控件\",\"file\":{\"20180607155338.png\":\"group1/M00/00/46/wKgJGVssriOALxXjAAAIe7Wcjwg600.png\",\"com_mapbar_dynamiclauncher_widgets_calendar.jar\":\"group1/M00/00/46/wKgJGVssriOAJU6YAAAKc4WFYWA064.jar\"},\"codeId\":\"com.mapbar.dynamiclauncher.widgets.calendar.CalenderWidget\",\"appId\":\"\",\"id\":180621508739571,\"isPoster\":0,\"type\":0,\"Zindex\":1},{\"Uid\":\"1530090319767\",\"x\":10,\"y\":1,\"width\":\"6\",\"height\":\"6\",\"name\":\"WeatherIconWidget\",\"isScroll\":0,\"setting\":[{\"description\":\"晴天时显示的图片\",\"default\":{\"image\":\"weatherinfosource_icon_sun.png\",\"scaleType\":\"01\",\"alignType\":\"LT\"},\"label\":\"晴天：\",\"type\":\"ImageSet\",\"key\":\"sunnny\"},{\"description\":\"阴天时显示的图片\",\"default\":{\"image\":\"weatherinfosource_icon_cloudy.png\",\"scaleType\":\"01\",\"alignType\":\"LT\"},\"label\":\"阴天：\",\"type\":\"ImageSet\",\"key\":\"cloudy\"},{\"description\":\"多云转晴显示的图片\",\"default\":{\"image\":\"weatherinfosource_icon_cloudy_sun.png\",\"scaleType\":\"01\",\"alignType\":\"LT\"},\"label\":\"多云转晴：\",\"type\":\"ImageSet\",\"key\":\"cloudy_sunny\"}],\"backgroud\":\"weathericonwidget_icon.png\",\"category\":\"天气预报的天气图标\",\"description\":\"这是一个天气图标控件\",\"file\":{\"weatherinfosource_icon_cloudy_sun.png\":\"group1/M00/00/4B/wKgJGVsy8z2AMJULAAAJ39jHBMU817.png\",\"weathericonwidget_icon.png\":\"group1/M00/00/4B/wKgJGVsy8z2AdGiXAAALn15WII0426.png\",\"com_mapbar_dynamiclauncher_widgets_WeatherIconWidget.dex\":\"group1/M00/00/4B/wKgJGVsy8z2AaARMAAAPPKLeOJA047.dex\",\"weatherinfosource_icon_sun.png\":\"group1/M00/00/4B/wKgJGVsy8z2AXgX9AAAMbPume34694.png\",\"weatherinfosource_icon_cloudy.png\":\"group1/M00/00/4B/wKgJGVsy8z2AGdJeAAAITI_NA3M763.png\"},\"codeId\":\"com.mapbar.dynamiclauncher.widgets.weathericon.WeatherIconWidget\",\"appId\":\"\",\"id\":180627823364327,\"isPoster\":0,\"type\":0,\"Zindex\":4},{\"Uid\":\"1530090501334\",\"x\":16,\"y\":1,\"width\":\"7\",\"height\":\"2\",\"name\":\"WeatherDescWidget\",\"isScroll\":0,\"setting\":[{\"description\":\"设置天气预报描述的显示样式\",\"default\":{\"text\":\"晴\",\"size\":\"23\",\"color\":\"#FFFFFF\",\"background\":{\"color\":\"#00000000\"}},\"label\":\"天气预报描述显示：\",\"type\":\"TextSet\",\"key\":\"style\"}],\"backgroud\":\"weatherdescwidget_desc.png\",\"category\":\"天气预报描述\",\"description\":\"这是一个天气预报描述控件\",\"file\":{\"com_mapbar_dynamiclauncher_widgets_WeatherDescWidget.dex\":\"group1/M00/00/4B/wKgJGVsy5_CAKOVvAAANwMRK66M041.dex\",\"weatherdescwidget_desc.png\":\"group1/M00/00/4B/wKgJGVsy5_CAD5dCAAANx99-zEA221.png\"},\"codeId\":\"com.mapbar.dynamiclauncher.widgets.weatherdesc.WeatherDescWidget\",\"appId\":\"\",\"id\":180628990275603,\"isPoster\":0,\"type\":0,\"Zindex\":7},{\"Uid\":\"1530090443149\",\"x\":44,\"y\":1,\"width\":\"2\",\"height\":\"2\",\"name\":\"WifiStatusWidget\",\"isScroll\":0,\"setting\":[{\"description\":\"Wifi已打开时显示的图片\",\"default\":{\"image\":\"wifistatuswidget_wifi_opened.png\",\"scaleType\":\"01\",\"alignType\":\"LT\"},\"label\":\"Wifi已打开：\",\"type\":\"ImageSet\",\"key\":\"signal04\"},{\"description\":\"信号等级01时显示的图片\",\"default\":{\"image\":\"wifistatuswidget_wifi_signal01.png\",\"scaleType\":\"01\",\"alignType\":\"LT\"},\"label\":\"信号等级01：\",\"type\":\"ImageSet\",\"key\":\"signal01\"},{\"description\":\"信号等级02时显示的图片\",\"default\":{\"image\":\"wifistatuswidget_wifi_signal02.png\",\"scaleType\":\"01\",\"alignType\":\"LT\"},\"label\":\"信号等级02：\",\"type\":\"ImageSet\",\"key\":\"signal02\"},{\"description\":\"信号等级03时显示的图片\",\"default\":{\"image\":\"wifistatuswidget_wifi_signal03.png\",\"scaleType\":\"01\",\"alignType\":\"LT\"},\"label\":\"信号等级03：\",\"type\":\"ImageSet\",\"key\":\"signal03\"},{\"description\":\"信号等级04时显示的图片\",\"default\":{\"image\":\"wifistatuswidget_wifi_signal04.png\",\"scaleType\":\"01\",\"alignType\":\"LT\"},\"label\":\"信号等级04：\",\"type\":\"ImageSet\",\"key\":\"signal04\"}],\"backgroud\":\"wifistatuswidget_preview_wifi.png\",\"category\":\"Wifi连接状态\",\"description\":\"这是一个Wifi连接状态控件\",\"file\":{\"wifistatuswidget_preview_wifi.png\":\"group1/M00/00/4B/wKgJGVsy6CaAdH9uAAAKS2_MFAI629.png\",\"com_mapbar_dynamiclauncher_widgets_WifiStatusWidget.dex\":\"group1/M00/00/4B/wKgJGVsy6CaAG19JAAATENGf2fU337.dex\",\"wifistatuswidget_wifi_opened.png\":\"group1/M00/00/4B/wKgJGVsy6CaAGE38AAACYQeGDNs918.png\",\"wifistatuswidget_wifi_signal01.png\":\"group1/M00/00/4B/wKgJGVsy6CaAf8wEAAACHQKKasw243.png\",\"wifistatuswidget_wifi_signal03.png\":\"group1/M00/00/4B/wKgJGVsy6CaAAQKYAAACVs_e2jc406.png\",\"wifistatuswidget_wifi_signal02.png\":\"group1/M00/00/4B/wKgJGVsy6CaAP6mHAAACS-cXX8w979.png\",\"wifistatuswidget_wifi_signal04.png\":\"group1/M00/00/4B/wKgJGVsy6CaAX8nxAAACYQeGDNs132.png\"},\"codeId\":\"com.mapbar.dynamiclauncher.widgets.wifistatus.WifiStatusWidget\",\"appId\":\"\",\"id\":180629125373631,\"isPoster\":0,\"type\":0,\"Zindex\":5},{\"Uid\":\"1530090466681\",\"x\":46,\"y\":1,\"width\":\"2\",\"height\":\"2\",\"name\":\"UsbStatusWidget\",\"isScroll\":0,\"setting\":[{\"description\":\"USB已连接时显示的图片\",\"default\":{\"image\":\"usbstatuswidget_usb_available.png\",\"scaleType\":\"01\",\"alignType\":\"LT\"},\"label\":\"USB已连接：\",\"type\":\"ImageSet\",\"key\":\"available\"}],\"backgroud\":\"usbstatuswidget_preview_usb.png\",\"category\":\"USB插入状态\",\"description\":\"这是一个USB状态控件\",\"file\":{\"com_mapbar_dynamiclauncher_widgets_UsbStatusWidget.dex\":\"group1/M00/00/4B/wKgJGVsy5-aAaoEwAAAQmD9u0a0522.dex\",\"usbstatuswidget_preview_usb.png\":\"group1/M00/00/4B/wKgJGVsy5-aAJmk4AAAH0PV9QXg766.png\",\"usbstatuswidget_usb_available.png\":\"group1/M00/00/4B/wKgJGVsy5-aARjLYAAACIz1ps_4594.png\"},\"codeId\":\"com.mapbar.dynamiclauncher.widgets.usbstatus.UsbStatusWidget\",\"appId\":\"\",\"id\":180625278873454,\"isPoster\":0,\"type\":0,\"Zindex\":6},{\"Uid\":\"1530090541458\",\"x\":16,\"y\":3,\"width\":\"2\",\"height\":\"2\",\"name\":\"Temperature\",\"isScroll\":0,\"setting\":[{\"description\":\"设置天气预报温度的显示样式\",\"default\":{\"text\":\"26°\",\"size\":\"23\",\"color\":\"#FFFFFF\",\"background\":{\"color\":\"#00000000\"}},\"label\":\"天气预报温度显示：\",\"type\":\"TextSet\",\"key\":\"style\"}],\"backgroud\":\"weathertemperaturewidget_temperature.png\",\"category\":\"天气预报温度\",\"description\":\"这是一个天气预报温度控件\",\"file\":{\"com_mapbar_dynamiclauncher_widgets_WeatherTemperatureWidget.dex\":\"group1/M00/00/4B/wKgJGVsy6BiAArwVAAAOlJSJKtE572.dex\",\"weathertemperaturewidget_temperature.png\":\"group1/M00/00/4B/wKgJGVsy6BiAOx5mAAAJ2oTn4vI619.png\"},\"codeId\":\"com.mapbar.dynamiclauncher.widgets.weathertemperature.WeatherTemperatureWidget\",\"appId\":\"\",\"id\":180625624823877,\"isPoster\":0,\"type\":0,\"Zindex\":9},{\"Uid\":\"1530090530458\",\"x\":21,\"y\":3,\"width\":\"2\",\"height\":\"2\",\"name\":\"TemperatureRange\",\"isScroll\":0,\"setting\":[{\"description\":\"设置天气预报描述的显示样式\",\"default\":{\"text\":\"晴\",\"size\":\"23\",\"color\":\"#FFFFFF\",\"background\":{\"color\":\"#00000000\"}},\"label\":\"天气预报描述显示：\",\"type\":\"TextSet\",\"key\":\"style\"}],\"backgroud\":\"weathertemperaturerangewidget_temperature_range.png\",\"category\":\"天气温度范围\",\"description\":\"这是一个天气预报描述控件\",\"file\":{\"weathertemperaturerangewidget_temperature_range.png\":\"group1/M00/00/4B/wKgJGVsy6AuAE1YrAAALC7G3Mak196.png\",\"com_mapbar_dynamiclauncher_widgets_WeatherTemperatureRangeWidget.dex\":\"group1/M00/00/4B/wKgJGVsy6AuAXgbbAAAO2MEB6No092.dex\"},\"codeId\":\"com.mapbar.dynamiclauncher.widgets.weathertemperaturerange.WeatherTemperatureRangeWidget\",\"appId\":\"\",\"id\":180625628402728,\"isPoster\":0,\"type\":0,\"Zindex\":8},{\"Uid\":\"1530090113651\",\"x\":1,\"y\":5,\"width\":\"2\",\"height\":\"2\",\"name\":\"ImageWidget\",\"isScroll\":0,\"setting\":[{\"description\":\"鏄剧ず鍥剧墖\",\"default\":{\"color\":\"#00000000\",\"image\":\"20180607155338.png\"},\"label\":\"鍥剧墖锛�\",\"type\":\"TextSet\",\"key\":\"background\"}],\"backgroud\":\"20180607155338.png\",\"category\":\"鍥剧墖\",\"description\":\"鍥剧墖鎺т欢\",\"file\":{\"20180607155338.png\":\"group1/M00/00/4C/wKgJGVszUkGAUQLvAAAInI73ztc185.png\"},\"codeId\":\"com.mapbar.dynamiclauncher.widgetlib.widget.ImageWidget\",\"appId\":\"\",\"id\":180629168349570,\"isPoster\":0,\"type\":0,\"Zindex\":2},{\"Uid\":\"1530090222046\",\"x\":3,\"y\":5,\"width\":\"8\",\"height\":\"2\",\"name\":\"TextWidget\",\"isScroll\":0,\"setting\":[{\"description\":\"璁剧疆鏃堕棿鐨勬樉绀烘牱寮�\",\"default\":{\"text\":\"Ab TextWidget\",\"size\":\"23\",\"color\":\"#FFFFFF\",\"background\":{\"color\":\"#00000000\"}},\"label\":\"鏃堕棿鏄剧ず锛�\",\"type\":\"TextSet\",\"key\":\"style\"}],\"backgroud\":\"20180627165233.png\",\"category\":\"鏂囨湰\",\"description\":\"鏃堕棿鎺т欢\",\"file\":{\"20180627165233.png\":\"group1/M00/00/4C/wKgJGVszUnaAN3BAAAAE3n2eCks699.png\"},\"codeId\":\"com.mapbar.dynamiclauncher.widgetlib.widget.TextWidget\",\"appId\":\"\",\"id\":180626568852976,\"isPoster\":0,\"type\":0,\"Zindex\":3},{\"Uid\":\"1530092277528\",\"x\":1,\"y\":8,\"width\":\"49\",\"height\":\"21\",\"name\":\"滚动屏\",\"isScroll\":1,\"setting\":{\"col\":10,\"row\":10,\"direct\":0},\"backgroud\":\"2a26f1e625d801d5.png\",\"file\":{\"2a26f1e625d801d5.png\":\"group1/M00/00/0F/wKgJElr-o-2AAx4DAADfqQeCRbo391.png\"},\"appId\":\"\",\"isPoster\":0,\"type\":null,\"Zindex\":10,\"widgets\":[{\"data\":[{\"Uid\":\"1530092320216\",\"x\":0,\"y\":0,\"width\":\"4\",\"height\":\"10\",\"name\":\"MapBarNaviWidget\",\"setting\":[{\"description\":\"用来设置面板背景\",\"default\":{\"image\":\"com_mapbar_dynamiclauncher_widgets_navi_mapbarnaviwidget_started_expand_bg.png\"},\"label\":\"面板背景\",\"type\":\"ImageSet\",\"key\":\"background\"},{\"description\":\"用来设置导航图标\",\"default\":{\"image\":\"com_mapbar_dynamiclauncher_widgets_mapbarnaviwidget_navi_icon.png\"},\"label\":\"导航图标\",\"type\":\"ImageSet\",\"key\":\"naviIconPic\"},{\"description\":\"设置导航名字\",\"default\":{\"size\":\"26\",\"color\":\"#FFFFFF\",\"def_text\":\"图吧导航\"},\"label\":\"导航名字\",\"type\":\"TextSet\",\"key\":\"naviName\"},{\"description\":\"用来设置回家图标\",\"default\":{\"image\":\"com_mapbar_dynamiclauncher_widgets_mapbarnaviwidget_navi_icon_home.png\"},\"label\":\"回家图标\",\"type\":\"ImageSet\",\"key\":\"homePic\"},{\"description\":\"用来设置回公司图标\",\"default\":{\"image\":\"com_mapbar_dynamiclauncher_widgets_navi_mapbarnaviwidget_icon_company.png\"},\"label\":\"回公司图标\",\"type\":\"ImageSet\",\"key\":\"companyPic\"},{\"description\":\"用来设置导航中展开的背景\",\"default\":{\"color\":\"#99000000\",\"image\":\"com_mapbar_dynamiclauncher_widgets_navi_mapbarnaviwidget_started_expand_bg.png\"},\"label\":\"导航中展开的背景\",\"type\":\"ImageSet\",\"key\":\"naviStartedExpandBg\"},{\"description\":\"用来设置导航中未展开的背景\",\"default\":{\"image\":\"com_mapbar_dynamiclauncher_widgets_navi_mapbarnaviwidget_started_unexpand_bg.png\"},\"label\":\"导航中未展开的背景\",\"type\":\"ImageSet\",\"key\":\"naviStartedUnexpandBg\"},{\"description\":\"用来设置缩小图标\",\"default\":{\"image\":\"com_mapbar_dynamiclauncher_widgets__mapbarnaviwidget_navi_icon_switch_reduce.png\"},\"label\":\"缩小图标\",\"type\":\"ImageSet\",\"key\":\"switchReducePic\"},{\"description\":\"用来设置放大图标\",\"default\":{\"image\":\"com_mapbar_dynamiclauncher_widgets__mapbarnaviwidget_navi_icon_switch_enlarge.png\"},\"label\":\"放大图标\",\"type\":\"ImageSet\",\"key\":\"switchEnLargePic\"},{\"description\":\"设置导航未展开面板的距离文本\",\"default\":{\"size\":\"46\",\"color\":\"#FFFFFF\",\"def_text\":\"\"},\"label\":\"未展开距离\",\"type\":\"TextSet\",\"key\":\"naviUnExpandDistance\"},{\"description\":\"设置导航未展开面板的距离单位文本\",\"default\":{\"size\":\"26\",\"color\":\"#FFFFFF\",\"def_text\":\"\"},\"label\":\"未展开距离单位文本\",\"type\":\"TextSet\",\"key\":\"naviUnExpandDistanceUnit\"},{\"description\":\"设置导航未展开面板的方向文本\",\"default\":{\"size\":\"26\",\"color\":\"#66FFFFFF\",\"def_text\":\"\"},\"label\":\"未展开方向文本\",\"type\":\"TextSet\",\"key\":\"naviUnExpandDirection\"},{\"description\":\"设置导航未展开面板的道路名字文本\",\"default\":{\"size\":\"38\",\"color\":\"#FFFFFF\",\"def_text\":\"\"},\"label\":\"未展开道路名字文本\",\"type\":\"TextSet\",\"key\":\"naviUnExpandRoadName\"},{\"description\":\"设置导航展开面板的距离文本\",\"default\":{\"size\":\"46\",\"color\":\"#FFFFFF\",\"def_text\":\"\"},\"label\":\"展开面板距离文本\",\"type\":\"TextSet\",\"key\":\"naviUnExpandDistance\"},{\"description\":\"设置导航展开面板的距离单位文本\",\"default\":{\"size\":\"26\",\"color\":\"#FFFFFF\",\"def_text\":\"\"},\"label\":\"展开面板距离单位文本\",\"type\":\"TextSet\",\"key\":\"naviUnExpandDistanceUnit\"},{\"description\":\"设置导航展开面板的方向文本\",\"default\":{\"size\":\"26\",\"color\":\"#66FFFFFF\",\"def_text\":\"\"},\"label\":\"展开面板方向文本\",\"type\":\"TextSet\",\"key\":\"naviUnExpandDirection\"},{\"description\":\"设置导航展开面板的道路名字文本\",\"default\":{\"size\":\"38\",\"color\":\"#FFFFFF\",\"def_text\":\"\"},\"label\":\"展开面板道路名字文本\",\"type\":\"TextSet\",\"key\":\"naviUnExpandRoadName\"},{\"description\":\"用来设置导航名字的位置\",\"default\":\"center\",\"label\":\"导航名字位置\",\"type\":\"singleSelect\",\"key\":\"textLocation\",\"values\":[{\"lable\":\"居中对齐\",\"value\":\"center\"},{\"lable\":\"顶部对齐\",\"value\":\"top\"}]},{\"description\":\"用来设置导航引导信息对齐方式\",\"default\":\"center\",\"label\":\"引导信息对齐方式\",\"type\":\"singleSelect\",\"key\":\"naviTitleLocation\",\"values\":[{\"lable\":\"拉伸对齐\",\"value\":\"expand\"},{\"lable\":\"居中对齐\",\"value\":\"center\"}]}],\"backgroud\":\"com_mapbar_dynamiclauncher_widgets__mapbarnaviwidget_navi_unstart.png\",\"category\":\"导航\",\"description\":\"这是一个图吧导航 widget\",\"file\":{\"com_mapbar_dynamiclauncher_widgets_navi_mapbarnaviwidget_unstarted_bg.png\":\"group1/M00/00/47/wKgJGVswjiyAVHpRAAAjwtePiPg810.png\",\"com_mapbar_dynamiclauncher_widgets_navi_mapbarnaviwidget_started_expand_bg.png\":\"group1/M00/00/47/wKgJGVswjiyAQncLAAAjqKrhbfA788.png\",\"com_mapbar_dynamiclauncher_widgets_mapbarnaviwidget_navi_icon_home.png\":\"group1/M00/00/47/wKgJGVswjiyAYxVSAAAOx7mNE5w574.png\",\"com_mapbar_dynamiclauncher_widgets__mapbarnaviwidget_navi_icon_switch_enlarge.png\":\"group1/M00/00/47/wKgJGVswjiyAFhndAAAGMhIiZOc937.png\",\"com_mapbar_dynamiclauncher_widgets_navi_mapbarnaviwidget_icon_company.png\":\"group1/M00/00/47/wKgJGVswjiyAElXpAAANRrpeVjg393.png\",\"com_mapbar_dynamiclauncher_widgets__mapbarnaviwidget_navi_unstart.png\":\"group1/M00/00/47/wKgJGVswjiyAZMFTAADNF0loQLY515.png\",\"com_mapbar_dynamiclauncher_widgets_navi_mapbarnaviwidget_started_unexpand_bg.png\":\"group1/M00/00/47/wKgJGVswjiyAQyZYAAAKk_nGuBQ943.png\",\"com_mapbar_dynamiclauncher_widgets__mapbarnaviwidget_navi_starting_unexpand.png\":\"group1/M00/00/47/wKgJGVswjiyAAKWqAAAzyIMjBaE565.png\",\"com_mapbar_dynamiclauncher_widgets__mapbarnaviwidget_navi_icon_switch.png\":\"group1/M00/00/47/wKgJGVswjiyAFw0sAAAF5hGRO8s485.png\",\"com_mapbar_dynamiclauncher_widgets__mapbarnaviwidget_navi_icon_switch_reduce.png\":\"group1/M00/00/47/wKgJGVswjiyAY7hOAAAHqOB2mRI301.png\",\"com_mapbar_dynamiclauncher_widgets_mapbarnaviwidget_navi_icon.png\":\"group1/M00/00/47/wKgJGVswjiyAa0AxAACgUZBMb_E536.png\",\"com_mapbar_dynamiclauncher_widgets__mapbarnaviwidget_navi_starting_unexpand.png.png\":\"group1/M00/00/47/wKgJGVswjiyAN82wAAKMKz4tbRA200.png\"},\"codeId\":\"com.mapbar.dynamiclauncher.widgets.navi01.MapBarNaviWidget\",\"appId\":\"\",\"id\":180624719634112,\"isPoster\":0,\"type\":0,\"Zindex\":12,\"isScroll\":null},{\"backgroud\":\"phone_widget_preview.png\",\"description\":\"这是一个电话widget\",\"version\":1,\"setting\":[{\"default\":{\"image\":\"phone_widget_background.png\"},\"label\":\"电话背景颜色\",\"type\":\"ImageSet\",\"key\":\"phone_background\"},{\"description\":\"蓝牙图片\",\"default\":{\"image\":\"phone_widget_bluetooth_img.png\"},\"label\":\"蓝牙图片\",\"type\":\"ImageSet\",\"key\":\"phone_bluetooth_img\"},{\"type\":\"TextSet\",\"default\":{\"size\":\"20\",\"color\":\"#ffffff\",\"def_text\":\"蓝牙未连接\"},\"key\":\"phone_bluetooth_text\"},{\"default\":{\"size\":\"20\",\"color\":\"#00e6f9\",\"def_text\":\"去设置\"},\"label\":\"去设置蓝牙\",\"type\":\"TextSet\",\"key\":\"phone_bluetooth_setting_text\"},{\"default\":{\"size\":\"20\",\"color\":\"#ffffff\",\"def_text\":\"天 天\"},\"label\":\"联系人\",\"type\":\"TextSet\",\"key\":\"phone_display_name_text\"},{\"description\":\"来电显示头像\",\"default\":{\"image\":\"phone_widget_display_img.png\"},\"label\":\"来电显示头像\",\"type\":\"ImageSet\",\"key\":\"phone_display_img\"},{\"default\":{\"size\":\"20\",\"color\":\"#ffffff\",\"def_text\":\"18638475632\"},\"label\":\"电话号码\",\"type\":\"TextSet\",\"key\":\"phone_display_number_text\"},{\"default\":{\"size\":\"20\",\"color\":\"#ffffff\",\"def_text\":\"1:33\"},\"label\":\"通话时间\",\"type\":\"TextSet\",\"key\":\"phone_chat_time_text\"},{\"default\":{\"image\":\"phone_widget_answer_calls_img.png\"},\"label\":\"接听图片\",\"type\":\"ImageSet\",\"key\":\"phone_answer_calls_img\"},{\"type\":\"TextSet\",\"default\":{\"size\":\"18\",\"color\":\"#ffffff\",\"def_text\":\"接听\"},\"key\":\"phone_answer_calls_text\"},{\"default\":{\"image\":\"phone_widget_stop_calls_img.png\"},\"label\":\"拒绝图片\",\"type\":\"ImageSet\",\"key\":\"phone_stop_calls_img\"},{\"type\":\"TextSet\",\"default\":{\"size\":\"18\",\"color\":\"#ffffff\",\"def_text\":\"拒绝\"},\"key\":\"phone_stop_calls_text\"},{\"default\":{\"image\":\"phone_widget_stop_calls_img.png\"},\"label\":\"挂断图片\",\"type\":\"ImageSet\",\"key\":\"phone_hang_up_img\"},{\"type\":\"TextSet\",\"default\":{\"size\":\"18\",\"color\":\"#ffffff\",\"def_text\":\"挂断\"},\"key\":\"phone_hang_up_text\"},{\"default\":{\"image\":\"phone_widget_retain_answer_img.png\"},\"label\":\"保留并接听图片\",\"type\":\"ImageSet\",\"key\":\"phone_retain_answer_img\"},{\"type\":\"TextSet\",\"default\":{\"size\":\"14\",\"color\":\"#ffffff\",\"def_text\":\"保留并接听\"},\"key\":\"phone_retain_answer_text\"},{\"default\":{\"image\":\"phone_widget_hang_answer_img.png\"},\"label\":\"挂断并接听图片\",\"type\":\"ImageSet\",\"key\":\"phone_hang_answer_img\"},{\"type\":\"TextSet\",\"default\":{\"size\":\"14\",\"color\":\"#ffffff\",\"def_text\":\"挂断并接听\"},\"key\":\"phone_hang_answer_text\"},{\"default\":{\"image\":\"phone_widget_stop_calls_img.png\"},\"label\":\"拒绝图片\",\"type\":\"ImageSet\",\"key\":\"phone_stop_calls_second_img\"},{\"type\":\"TextSet\",\"default\":{\"size\":\"14\",\"color\":\"#ffffff\",\"def_text\":\"拒绝\"},\"key\":\"phone_stop_calls_second_text\"},{\"default\":{\"image\":\"phone_widget_switch_answer_img.png\"},\"label\":\"切换图片\",\"type\":\"ImageSet\",\"key\":\"phone_swtich_answer_img\"},{\"type\":\"TextSet\",\"default\":{\"size\":\"18\",\"color\":\"#ffffff\",\"def_text\":\"切换\"},\"key\":\"phone_swtich_answer_text\"},{\"default\":{\"image\":\"phone_widget_stop_calls_img.png\"},\"label\":\"挂断图片\",\"type\":\"ImageSet\",\"key\":\"phone_second_hang_up_img\"},{\"type\":\"TextSet\",\"default\":{\"size\":\"18\",\"color\":\"#ffffff\",\"def_text\":\"挂断\"},\"key\":\"phone_second_hang_up_text\"}],\"codeId\":\"com.mapbar.dynamiclauncher.widgets.phone.PhoneWidget\",\"file\":{\"phone_widget_hang_answer_img.png\":\"group1/M00/00/4C/wKgJGVszKP2AdqEnAAAORGMOIMM976.png\",\"phone_widget_bluetooth_img.png\":\"group1/M00/00/4C/wKgJGVszKP2APIonAACfD72S0Yw346.png\",\"phone_widget_answer_calls_img.png\":\"group1/M00/00/4C/wKgJGVszKP2ATCygAAAOj2rgHbw415.png\",\"phone_widget_switch_answer_img.png\":\"group1/M00/00/4C/wKgJGVszKP2AaVbrAAAMmSpX4w4172.png\",\"phone_widget_display_img.png\":\"group1/M00/00/4C/wKgJGVszKP2AJ28HAAB_h9dJiKo356.png\",\"phone_widget_preview.png\":\"group1/M00/00/4C/wKgJGVszKP2APaQ6AACrW6xIh6g239.png\",\"phone_widget_background.png\":\"group1/M00/00/4C/wKgJGVszKP2AVm3gAAAgUnh9mwQ752.png\",\"phone_widget_retain_answer_img.png\":\"group1/M00/00/4C/wKgJGVszKP2AQS72AAANayrhqTg034.png\",\"phone_widget_stop_calls_img.png\":\"group1/M00/00/4C/wKgJGVszKP2Aeom2AAAOigMDWXo860.png\"},\"x\":5,\"width\":\"4\",\"name\":\"PhoneWidget\",\"y\":0,\"id\":180626039338321,\"category\":\"电话\",\"height\":\"10\",\"appId\":\"\",\"isPoster\":0,\"isScroll\":0,\"Uid\":\"1530092335531\",\"type\":0,\"Zindex\":13}]}]}]";

		// 定义下载文件map
		Map<String, String> fileMaps = new HashMap<String, String>();

		/**
		 * 保存主题父级config
		 */
		Map<String, Object> widgetBottom2Json = ThemeWidgetDetail.themeBottom2Json(baseJson);
		// 封装保存对象
		LaunThemeConfig themeConfigObj = ThemeWidgetDetail.getThemeConfigObj(widgetBottom2Json, 0L, themeId);
		// 持久化数据
		Long parentConfigId = configService.save(themeConfigObj);

		List<Map> jsonToList = JsonUtils.jsonToList(widgetJson, Map.class);
		for (Map<String, Object> map : jsonToList) {

			Integer isScroll = map.get("isScroll") == null ? null : Integer.parseInt(map.get("isScroll").toString());

			if (isScroll != null && isScroll == 1) {// 处理滚动屏数据
				/**
				 * 插入滚动屏信息
				 */
				String id = (String) map.get("Uid");
				String lattice = ThemeWidgetDetail.getLattice(map);
				Map<String, Object> viewpagerJson = new HashMap<String, Object>();
				viewpagerJson.put("id", id);
				viewpagerJson.put("lattice", lattice);
				viewpagerJson.put("name", "ViewPager");
				viewpagerJson.put("codeId", "ViewPager");
				viewpagerJson.put("type", 1);
				LaunThemeConfig viewpagerConfig = ThemeWidgetDetail.getThemeConfigObj(viewpagerJson, parentConfigId,
						themeId);
				// 持久化数据
				Long viewpagerConfigId = configService.save(viewpagerConfig);

				// 滚屏的长宽
				Map<String, Object> object = (Map<String, Object>) map.get("setting");
				Integer columnCount = Integer.parseInt(object.get("col").toString());
				Integer rowCount = Integer.parseInt(object.get("row").toString());

				// 滚动屏下有多个面板(contentLayOut),
				List<Map<String, Object>> widgetsJsonList = (List<Map<String, Object>>) map.get("widgets");
				int index = 0;
				for (Map<String, Object> scrollWidgetMap : widgetsJsonList) {

					/**
					 * 插入滚动屏内每一个屏幕信息
					 */
					Map<String, Object> bottomMap = new HashMap<String, Object>();
					bottomMap.put("id", (Long) scrollWidgetMap.get("Uid"));
					bottomMap.put("name", "page_" + index++);
					bottomMap.put("widthSize", columnCount);
					bottomMap.put("rowCount", rowCount);
					bottomMap.put("Uid", System.currentTimeMillis());
					Map<String, Object> widgetBottom2Json2 = ThemeWidgetDetail
							.widgetBottom2Json(JsonUtils.ObjectToJson(bottomMap));
					LaunThemeConfig pageOne = ThemeWidgetDetail.getThemeConfigObj(widgetBottom2Json2, viewpagerConfigId,
							themeId);
					// 持久化数据
					Long pageOneId = configService.save(pageOne);

					// 每个面板的wideget在data里存放
					List<Map<String, Object>> widgetList = (List<Map<String, Object>>) scrollWidgetMap.get("data");
					for (Map<String, Object> map2 : widgetList) {
						Map<String, Object> widget = ThemeWidgetDetail.parserWidget(map2, false);
						Map<String, String> fileMap = (Map<String, String>) widget.get("fileMap");
						fileMaps.putAll(fileMap);
						LaunThemeConfig widgetOnde = ThemeWidgetDetail.getThemeConfigObj(widget, pageOneId, themeId);
						// 持久化数据
						configService.save(widgetOnde);
					}
				}
				continue;
			} else {
				Map<String, Object> widget = ThemeWidgetDetail.parserWidget(map, false);
				Map<String, String> fileMap = (Map<String, String>) widget.get("fileMap");
				if (fileMap != null) {
					fileMaps.putAll(fileMap);
				}
				LaunThemeConfig widgetOnde = ThemeWidgetDetail.getThemeConfigObj(widget, parentConfigId, themeId);
				// 持久化数据
				configService.save(widgetOnde);
			}
		}
	}

	public void test() {

		Long themeId = 180523764457554L;
		List<LaunThemeConfig> themeConfigList = configService.findByThemeId(themeId);

		Map<String, List<LaunThemeConfig>> map = new HashMap<String, List<LaunThemeConfig>>();
		// 封装layout.json
		for (LaunThemeConfig launThemeConfig : themeConfigList) {
			Long parentId = launThemeConfig.getParentId();
			List<LaunThemeConfig> valueList = map.get(parentId.toString());
			if (valueList == null) {
				List<LaunThemeConfig> list = new ArrayList<>();
				list.add(launThemeConfig);
				map.put(parentId.toString(), list);
			} else {
				valueList.add(launThemeConfig);
			}
		}

		// 获取根面板json
		List<Map<String, Object>> packageMap = packageMap("0", map);

		String objectToJson = JsonUtils.ObjectToJson(packageMap.get(0));
		System.out.println(objectToJson);
	}

	public List<Map<String, Object>> packageMap(String widgetId, Map<String, List<LaunThemeConfig>> map) {
		List<Map<String, Object>> returnLit = new ArrayList<>();
		List<LaunThemeConfig> list = map.get(widgetId.toString());
		if (list != null) {
			for (LaunThemeConfig launThemeConfig : list) {
				String id = launThemeConfig.getId().toString();
				String property = launThemeConfig.getProperty();
				Map<String, Object> toMap = (Map<String, Object>) JsonUtils.JsonToMap(property);
				if (map.get(id) != null) {
					List<Map<String, Object>> packageMap = packageMap(id, map);
					if (packageMap.size() > 0) {
						toMap.put("children", packageMap);
					}
				}
				returnLit.add(toMap);
			}
		}
		return returnLit;
	}

	public static void main(String[] args) {
		Map<Long, String> map = new HashMap<Long, String>();
		map.put(0L, "sss");
		System.out.println(map.get(0L));
	}
}
